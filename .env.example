# ==============================================
# PAMBO MARKETPLACE - ENVIRONMENT VARIABLES
# ==============================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to `.env.local` (for development)
# 2. Fill in your actual values
# 3. NEVER commit .env.local to Git (it's in .gitignore)
#
# ==============================================

# ============================================
# FRONTEND ENVIRONMENT VARIABLES (VITE)
# ============================================
# These are safe to expose to the browser (public keys only)
# Prefix: VITE_

# Supabase Configuration (REQUIRED)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# API Configuration (optional)
VITE_BASE_URL=http://localhost:3000
VITE_API_URL=http://localhost:8000

# CRA-compatible aliases (optional)
REACT_APP_BASE_URL=http://localhost:3000
REACT_APP_API_URL=http://localhost:8000

# Crash Reporting (optional but recommended for web + mobile webview)
VITE_SENTRY_DSN=

# Unsplash API (optional - for fetching product images)
VITE_UNSPLASH_ACCESS_KEY=your-unsplash-access-key

# Gemini AI (optional - for AI features)
GEMINI_API_KEY=your-gemini-api-key-here

# ============================================
# BACKEND/EDGE FUNCTION ENVIRONMENT VARIABLES
# ============================================
# These should ONLY be set in Supabase Dashboard ‚Üí Edge Functions ‚Üí Secrets
# NEVER add these to frontend .env files!
#
# DO NOT SET THESE IN .env.local:
# - SUPABASE_SERVICE_ROLE_KEY (backend only)
# - MPESA_CONSUMER_KEY (Edge Function only)
# - MPESA_CONSUMER_SECRET (Edge Function only)
# - MPESA_PASSKEY (Edge Function only)
# - MPESA_SHORTCODE (Edge Function only)
# - MPESA_CALLBACK_URL (Edge Function only)
# - MPESA_CALLBACK_SECRET (Edge Function only)
# - MPESA_CALLBACK_MAX_AGE_SECONDS (Edge Function only)
# - MPESA_REQUIRE_NONCE_TIMESTAMP (Edge Function only)
#
# To set Edge Function secrets:
# supabase secrets set MPESA_CONSUMER_KEY=your-value
# supabase secrets set MPESA_CONSUMER_SECRET=your-value
# supabase secrets set MPESA_PASSKEY=your-value
# supabase secrets set MPESA_SHORTCODE=174379
# supabase secrets set MPESA_CALLBACK_URL=https://your-project.supabase.co/functions/v1/mpesa-callback
# supabase secrets set MPESA_CALLBACK_SECRET=your-random-secret-here
# supabase secrets set MPESA_CALLBACK_MAX_AGE_SECONDS=300
# supabase secrets set MPESA_REQUIRE_NONCE_TIMESTAMP=true
# supabase secrets set CORS_ALLOWED_ORIGINS=https://pambo.biz,https://www.pambo.biz,http://localhost:3000,http://localhost:5173
# supabase secrets set SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# SECURITY NOTES
# ============================================
# 
# ‚úÖ SAFE for frontend (VITE_ prefix):
# - VITE_SUPABASE_URL
# - VITE_SUPABASE_ANON_KEY (Row Level Security protects data)
# - VITE_API_URL
# - VITE_UNSPLASH_ACCESS_KEY
#
# ‚ùå NEVER expose to frontend:
# - SUPABASE_SERVICE_ROLE_KEY (bypasses RLS!)
# - MPESA_* credentials (payment fraud risk)
# - Database passwords
# - API secret keys
#
# üîí Row Level Security (RLS) is your protection:
# Even with the anon key, users can only access data
# allowed by RLS policies in your database.
#
# ============================================
# DEPLOYMENT
# ============================================
#
# For Vercel/Netlify deployment:
# 1. Go to dashboard ‚Üí Environment Variables
# 2. Add all VITE_ variables
# 3. DO NOT add SERVICE_ROLE_KEY or MPESA_ credentials
#
# For Supabase Edge Functions:
# Use `supabase secrets set KEY=value` command
#
# ============================================

# Backend API production config (Node backend)
# FRONTEND_URL=https://pambo.biz
# CORS_ALLOWED_ORIGINS=https://pambo.biz,https://www.pambo.biz
# MPESA_CALLBACK_URL=https://your-backend-domain/api/payments/mpesa/callback
